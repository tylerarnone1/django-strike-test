<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link href="https://fonts.googleapis.com/css?family=Notable" rel="stylesheet">

    <title>Django Strike</title>
</head>
<body>
    <h1>Django Strike</h1>
    <nav id="top">
        <a href="#">Home</a>
        <a href="#">Tutorial</a>
        <a href="#">Profile</a>
        <a href="#">Buy $</a>
    </nav>
    <div id="flex">
    <div id="map"></div>
    <aside>
    <div id="side-menu" class="side-nav">
            <a href="#">Targets</a>
            <a href="#">search</a>
            <a href="#">MY $</a>
            <a href="#">Fire!
                    <button class="button button5">FIRE!</button>
            </a>
        </div>
        </aside>
</div>  
    <script>
  
      var map;
      function initMap() {
   
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 20.2691, lng: 97.7457},
          zoom: 4,
          mapTypeId: 'terrain',
          disableDefaultUI: true
        });
        infoWindow = new google.maps.InfoWindow;

        var pos = {};
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            // console.log(position)
            pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            console.log(pos, 'line 54')
          
            infoWindow.setPosition(pos);
            infoWindow.setContent('Location found.');
            infoWindow.open(map);
            map.setCenter(pos);
           
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
        google.maps.event.addListener(map, 'click', function( event ){
  alert( "Latitude: "+event.latLng.lat()+" "+", longitude: "+event.latLng.lng() ); 
  
});

      
   

  // Define the symbol, using one of the predefined paths ('CIRCLE')
  // supplied by the Google Maps JavaScript API.
  var lineSymbol = {
    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
    scale: 8,
    strokeColor: '#393'
  };

  // Create the polyline and add the symbol to it via the 'icons' property.
  var line = new google.maps.Polyline({
    path: [pos, {lat:  33.2436, lng:  -111.115}],
    icons: [{
      icon: lineSymbol,
      offset: '100%'
    }],
    map: map
  });

  animateCircle(line);


// Use the DOM setInterval() function to change the offset of the symbol
// at fixed intervals.
function animateCircle(line) {
    var count = 0;
    window.setInterval(function() {
      count = (count + 1) % 200;

      var icons = line.get('icons');
      icons[0].offset = (count / 2) + '%';
      line.set('icons', icons);
  }, 20);
}
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKtx17PJpklfAdoqyXzohhR5VO-qBbgEY&callback=initMap"
    async defer></script>
  </body>
</body>
</html>




